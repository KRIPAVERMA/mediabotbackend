Project Title: Video Link to MP3 Converter Bot
1ï¸âƒ£ Problem Statement

Build a backend-based bot/service that:

Accepts a public YouTube video link

Downloads the video

Extracts audio

Converts it into MP3 format

Returns the MP3 file for download

The system should be built using Node.js and Express and should work via REST API.

âš ï¸ Only support YouTube public links. Do NOT support Instagram scraping due to platform restrictions.

2ï¸âƒ£ Functional Requirements

The system must:

Accept POST request with:

{
  "url": "YouTube video URL"
}


Validate:

URL exists

URL is from youtube.com or youtu.be

Download the video using yt-dlp

Extract audio using ffmpeg

Convert to .mp3

Store the file temporarily in /downloads

Return:

Either the MP3 file directly

Or a downloadable file URL

Handle errors properly:

Invalid URL

Download failure

Conversion failure

3ï¸âƒ£ Non-Functional Requirements

Clean folder structure

Proper error handling

Use async/await where possible

Do not block the server

Temporary files should auto-delete after sending

4ï¸âƒ£ Tech Stack

Backend:

Node.js

Express.js

child_process (to execute yt-dlp)

fs module

cors

System Dependencies:

yt-dlp

ffmpeg

Deployment Target:

Render / Railway / VPS (not Vercel)

5ï¸âƒ£ Folder Structure
video-mp3-bot/
â”‚
â”œâ”€â”€ downloads/
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ download.js
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ downloadController.js
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ validator.js
â”œâ”€â”€ app.js
â”œâ”€â”€ package.json
â””â”€â”€ PROJECT_INSTRUCTIONS.md

6ï¸âƒ£ API Design
POST /api/download

Request Body:

{
  "url": "https://youtube.com/..."
}


Success Response:

Return MP3 file
OR

{
  "message": "Success",
  "file": "download_link"
}


Error Response:

{
  "error": "Invalid YouTube URL"
}

7ï¸âƒ£ Implementation Steps
Step 1: Initialize Project

Create Node project

Install express, cors

Step 2: Create Express Server

Setup middleware

Enable JSON parsing

Step 3: URL Validation Logic

Check if URL contains:

youtube.com

youtu.be

Step 4: Download & Convert

Use command:

yt-dlp -x --audio-format mp3 "<video_url>" -o "downloads/%(title)s.%(ext)s"


Execute using child_process.exec

Wait for completion

Return file

Step 5: Send File to User

Use:

res.download(filePath)

Step 6: Delete File After Sending

Use fs.unlink

8ï¸âƒ£ Security Rules

Only allow YouTube URLs

Prevent command injection

Sanitize input

Limit request size

Add rate limiting (optional)

9ï¸âƒ£ Future Improvements (Optional)

Add frontend UI

Add progress indicator

Store file in AWS S3

Add queue system

Support video format download

Add transcript extraction instead of download (legal-safe alternative)

ğŸ”Ÿ Constraints

Do NOT use Instagram scraping

Do NOT violate platform terms

Code must be modular

Follow MVC pattern

1ï¸âƒ£1ï¸âƒ£ Deliverables Expected From Agent

Complete backend code

Working API

Proper folder structure

Clear comments in code

README with setup instructions